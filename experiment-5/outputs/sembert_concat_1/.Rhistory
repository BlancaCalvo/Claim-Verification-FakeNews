knitr::opts_knit$set(root.dir = 'C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/')
library(dplyr)
library(ggplot2)
#setwd("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/")
setwd("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/")
output<- read.csv('experiment-5/outputs/sembert_concat_1/dev-results.txt', header = FALSE, sep='\t')
pwd
pwd()
output<- read.csv('experiment-5/outputs/sembert_concat_1/dev-results.txt', header = FALSE, sep='\t')
knitr::opts_knit$set(root.dir = 'C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/')
library(dplyr)
library(ggplot2)
#setwd("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/")
output<- read.csv('experiment-5/outputs/sembert_vote_1/dev-results.tsv', header = FALSE, sep='\t')
#output<- read.csv('experiment-5/outputs/sembert_concat_1/dev-results.txt', header = FALSE, sep='\t')
output<- read.csv('experiment-5/outputs/sembert_concat_1/dev-results.tsv', header = FALSE, sep='\t')
setwd("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/")
output<- read.csv('experiment-5/outputs/sembert_vote_1/dev-results.tsv', header = FALSE, sep='\t')
output<- read.csv('experiment-5/outputs/sembert_concat_1/dev-results.tsv', header = FALSE, sep='\t')
output<- read.csv('experiment-5/outputs/sembert_concat_1/dev-results.tsv', header = FALSE, sep='\t')
output<- read.csv('experiment-5/outputs/sembert_vote_1/dev-results.tsv', header = FALSE, sep='\t')
output<- read.csv('experiment-5/outputs/sembert_concat_1/dev-results.tsv', header = FALSE, sep='\t')
output<- read.csv('experiment-5/outputs/sembert_concat_1/dev-results.tsv', header = FALSE, sep='\t')
setwd("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/experiment-5/outputs/sembert_concat_1")
output<- read.csv('dev-results.tsv', header = FALSE, sep='\t')
output<- read.csv('dev-results.tsv', header = FALSE, sep='\t')
list.files(path = ".")
output<- read.csv('dev-results.tsv', header = FALSE, sep='\t')
output<- read.csv(list.files(path = "."), header = FALSE, sep='\t')
list.files(path = ".")
output<- read.csv("dev-results.tsv", header = FALSE, sep='\t')
output<- read.csv("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/experiment-5/outputs/sembert_concat_1/dev-results.tsv", header = FALSE, sep='\t')
output_sembert<- read.csv("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/experiment-5/outputs/sembert_concat_1/dev-results.tsv", header = FALSE, sep='\t')
rm output
results <- output_sembert %>%
rowwise() %>%
mutate(output= which.max(list(V1,V2,V3))-1)%>%
mutate(right = sum(V4==output, na.rm=T))
print(sum(results$right)/nrow(results))
sembert_output<- read.csv("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/experiment-5/outputs/sembert_concat_1/dev-results.tsv", header = FALSE, sep='\t')
sembert_results <- sembert_output %>%
rowwise() %>%
mutate(output= which.max(list(V1,V2,V3))-1)%>%
mutate(right = sum(V4==output, na.rm=T))
print(sum(sembert_results$right)/nrow(sembert_results))
bert_output<- read.csv("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/experiment-5/outputs/bert_base/dev-results.tsv", header = FALSE, sep='\t')
output<- read.csv('experiment-5/outputs/sembert_vote_1/dev-results.tsv', header = FALSE, sep='\t')
knitr::opts_knit$set(root.dir = 'C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/')
library(dplyr)
library(ggplot2)
#setwd("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/")
output<- read.csv('experiment-5/outputs/sembert_vote_1/dev-results.tsv', header = FALSE, sep='\t')
knitr::opts_knit$set(root.dir = 'C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/')
library(dplyr)
library(ggplot2)
#setwd("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/")
sembert_output<- read.csv("experiment-5/outputs/sembert_concat_1/dev-results.tsv", header = FALSE, sep='\t')
knitr::opts_knit$set(root.dir = 'C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/')
library(dplyr)
library(ggplot2)
#setwd("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/")
# REMEMBER: the working directory of the R sessions and the working directory of the notebook are different things!!!!
bert_output<- read.csv("experiment-5/outputs/bert_base/dev-results.tsv", header = FALSE, sep='\t')
bert_results <- bert_output %>%
rowwise() %>%
mutate(output= which.max(list(V1,V2,V3))-1)%>%
mutate(right = sum(V4==output, na.rm=T))
print(sum(bert_results$right)/nrow(bert_results))
bert_results <- cbind(bert_results, index = sembert_results$V5)
head(sembert_output)
head(bert_output)
tail(sembert_output)
tail(bert_output)
nrow(head(bert_output,-1))
bert_results <- cbind(head(bert_results, -1), index = sembert_results$V5)
View(bert_results)
install-packages("compare")
install.packages("compare")
knitr::opts_knit$set(root.dir = 'C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/')
library(dplyr)
library(ggplot2)
library(compare)
#setwd("C:/Users/bcalvo/Box/bcalvo/Claim-Verification-FakeNews/")
# REMEMBER: the working directory of the R sessions and the working directory of the notebook are different things!!!!
library(compare)
?compare
bert_right = bert_results$right
sembert_right = sembert_results$right
which(bert_right != sembert_right)
bert_right = bert_results$right
sembert_right = sembert_results$right
differing_rows = list(which(bert_right != sembert_right))
bert_right = bert_results$right
sembert_right = sembert_results$right
differing_rows = which(bert_right != sembert_right)
bert_results <- cbind(head(bert_results, -1), V5 = sembert_results$V5) # I delete one row to match
bert_results <- bert_output %>%
rowwise() %>%
mutate(output= which.max(list(V1,V2,V3))-1)%>%
mutate(right = sum(V4==output, na.rm=T))
print(sum(bert_results$right)/nrow(bert_results))
bert_results <- cbind(head(bert_results, -1), V5 = sembert_results$V5) # I delete one row to match
bert_right = bert_results$right
sembert_right = sembert_results$right
differing_rows = which(bert_right != sembert_right)
all = merge(bert_results, sembert_results, by="V5")
?subset
?which
bert_right = bert_results$right
sembert_right = sembert_results$right
differing_rows = which(bert_right != sembert_right)
all = merge(bert_results, sembert_results, by="V5")
differing =  subset(all, differing_rows)
bert_right = bert_results$right
sembert_right = sembert_results$right
differing_rows = which(bert_right != sembert_right, arr.ind = TRUE)
all = merge(bert_results, sembert_results, by="V5")
differing =  subset(all, differing_rows)
bert_right = bert_results$right
sembert_right = sembert_results$right
differing_rows = which(bert_right != sembert_right, arr.ind = FALSE)
all = merge(bert_results, sembert_results, by="V5")
differing =  subset(all, differing_rows)
setdiff(bert_right, sembert_right)
?setdiff
bert_right = bert_results$right
sembert_right = sembert_results$right
differing_rows = which(bert_right != sembert_right, arr.ind = FALSE)
all = merge(bert_results, sembert_results, by="V5")
differing =  subset(all, select = c(differing_rows, 3))
?subset
bert_right = bert_results$right
sembert_right = sembert_results$right
differing_rows = which(bert_right != sembert_right, arr.ind = FALSE)
all = merge(bert_results, sembert_results, by="V5")
all$ID <- seq.int(nrow(all))
differing <- all %>%
filter(ID %in% differing_rows)
View(differing)
